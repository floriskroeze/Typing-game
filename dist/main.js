var n=(t=>(t.START="start-screen",t.SETTINGS="settings",t.GAMEBOARD="gameboard",t.END="end-screen",t))(n||{});const o=t=>(document==null?void 0:document.getElementById(t))??null,i=t=>{var e;(e=o(t))==null||e.classList.remove("hidden")},l=t=>{var e;(e=o(t))==null||e.classList.add("hidden")};async function u(t){console.log("Selecting game text with difficulty: "+t);const e=await f(),r=m(e.gameTexts,t);return h(S(r))}const f=async()=>fetch("src/data.json").then(t=>{if(!t.ok)throw new Error("Could not fetch game text.");return t.json()}),m=(t,e)=>t==null?void 0:t.filter(r=>r.difficulty===e),S=t=>t[Math.floor(Math.random()*t.length)].text,h=t=>E(t.split(" ")),E=t=>t.flatMap(e=>[e," "]);function g(t){t.forEach((e,r)=>{var a;const c=(a=o(n.GAMEBOARD))==null?void 0:a.querySelector(".words-wrapper"),s=T();r===0&&s.classList.add("active"),e.split("").forEach(d=>s.appendChild(w(d))),c==null||c.appendChild(s)})}const T=()=>{const t=document.createElement("div");return t.classList.add("word"),t},w=t=>{const e=document.createElement("letter");return e.classList.add("letter"),e.innerText=t,e};function p(t){if(!t)throw new Error("No settings were selected.");if(!o(n.GAMEBOARD))throw new Error("Gameboard not found.");console.log("Initialising gameboard with settings: Difficulty: "+t.difficulty+". Time: "+t.gameLength+"."),u(t.difficulty).then(e=>{g(e),A(),i(n.GAMEBOARD)})}const A=t=>{console.log("Game clock initiated")},G={difficulty:2,gameLength:10};function y(){if(!o(n.SETTINGS))throw new Error("Settings screen not found.");i(n.SETTINGS),console.log("Settings screen initiated"),console.log("Settings selected"),p(G),l(n.SETTINGS)}function L(){if(!o(n.START))throw new Error("Start screen not found.");R(),i(n.START)}const R=()=>{var e;const t=(e=o(n.START))==null?void 0:e.querySelector("button#start");if(!t)throw new Error("Start button not found.");t.addEventListener("click",r=>{r.preventDefault(),y(),l(n.START)})};L();
